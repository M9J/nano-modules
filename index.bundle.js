"use strict";(self.webpackChunknano_modules=self.webpackChunknano_modules||[]).push([[57],{89:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var o="",t=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),t&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=n(e),t&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(n,o,t,a,s){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(t)for(var d=0;d<this.length;d++){var r=this[d][0];null!=r&&(i[r]=!0)}for(var A=0;A<n.length;A++){var l=[].concat(n[A]);t&&i[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),o&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=o):l[2]=o),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},963:n=>{n.exports=function(n){var e=n[1],o=n[3];if(!o)return e;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),s="/*# ".concat(a," */");return[e].concat([s]).join("\n")}return[e].join("\n")}},437:(n,e,o)=>{var t=o(72),a=o.n(t),s=o(825),i=o.n(s),d=o(659),r=o.n(d),A=o(56),l=o.n(A),c=o(540),u=o.n(c),p=o(113),m=o.n(p),g=o(497),f={};f.styleTagTransform=m(),f.setAttributes=l(),f.insert=r().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=u(),a()(g.A,f),g.A&&g.A.locals&&g.A.locals;const E="https://M9J.github.io/nano_modules/index.js";document.body.appendChild(function(){const n=document.createElement("div");n.classList.add("nano_modules_container");const e=document.createElement("div");e.classList.add("nano_modules_title"),e.innerHTML="NanoModules";const o=document.createElement("div");return o.classList.add("nano_modules_modules"),o.id="nano_modules_modules",n.appendChild(e),n.appendChild(o),n.appendChild(function(){const n=document.createElement("div");return n.classList.add("nano_modules_footer"),n.innerHTML='\n    <div class="nano_modules_footer_row">\n      <a class="github-badge" href="https://github.com/m9j/nano-modules/actions">\n        <div class="github-badge-label">nano-modules</div>\n        <div class="github-badge-stage">ACTIONS</div>\n        <div class="github-badge-status">PASSED</div>\n      </a>\n    </div>\n    <div class="nano_modules_footer_row">\n      <a class="github-badge" href="https://github.com/m9j/nano_modules/actions">\n        <div class="github-badge-label">nano_modules</div>\n        <div class="github-badge-stage">ACTIONS</div>\n        <div class="github-badge-status">PASSED</div>\n      </a>\n    </div>\n  ',n}()),n}()),async function(){const n=await async function(){console.log("> Nanomod.js _");const n=[];try{const e=await async function(){try{let n=[];return n=await import(E),n}catch(n){console.log(n)}}();if(e){const o=e.default;if(Array.isArray(o)&&o.length>0)for(const e of o)n.push(e)}}catch(n){const{code:e,message:o}=n;console.log(`${e}: ${o}`)}return n}();if(n){const e=document.getElementById("nano_modules_modules");n.length>0?e.innerHTML="":e.innerHTML="<div class='nano_modules_no_modules'>No Modules found</div>";for(const[e,o]of n.entries())o&&await b(o,e);for(const n of _)n&&await C(n)}}();const _=[];async function b(n,e){let o=function(n){if(n)return n.toString().replaceAll("() => import(","").replaceAll(")","").replaceAll('"',"")}(n),t="...",a=!1,s="...";const i=function(n,e,o,t,a){return`\n<div class="nano_modules_module" id="nano_module_${a}">\n<div class="nano_module_name">\n<span class="bold">Name:</span>\n<span id="nano_module_${a}_name">${n}</span>\n</div>\n<div class="nano_module_description">\n<span class="bold">Description:</span>\n<span id="nano_module_${a}_description">${e}</span>\n</div>\n<div class="nano_module_output">\n<span class="bold">Output:</span>\n<span id="nano_module_${a}_pulse" class="pulse hidden">\n&nbsp;<span class="pulse_dot"></span> \n&nbsp;<span class="pulse_dot"></span>\n&nbsp;<span class="pulse_dot"></span>\n</span>\n<span class="expander">&nbsp;</span>\n<span class="bold">Version:</span>\n<span id="nano_module_${a}_version">${o} </span>\n</div>\n<div\nclass="nano_module_output_restricted_scrollable"\nid="nano_module_${a}_output"\n>\n\n</div>\n</div>\n`}(o,t,s,0,e);document.getElementById("nano_modules_modules").innerHTML+=i;const d=new((await n()).default);o=d.MODULE_NAME?d.MODULE_NAME:"-",t=d.MODULE_DESCRIPTION?d.MODULE_DESCRIPTION:"-",a=d.MODULE_PULSE||!1,s=d.MODULE_VERSION?d.MODULE_VERSION:"-";const r=d.MODULE_MAIL_ID||null,A=d.MODULE_MAIL_HANDLER||null;d.MODULE_OUTPUT=function(n){return{print:h(n),printLine:x(n)}}(e),r&&A&&(B.onReceive(r,A),d.MODULE_MAIL={send:B.send}),document.getElementById(`nano_module_${e}_name`).innerHTML=o,document.getElementById(`nano_module_${e}_description`).innerHTML=t,document.getElementById(`nano_module_${e}_version`).innerHTML=s,a&&document.getElementById(`nano_module_${e}_pulse`).classList.remove("hidden"),d.MODULE_ID=e,_.push(d)}async function C(n){if(n.MODULE_MAIN&&"function"==typeof n.MODULE_MAIN)try{await n.MODULE_MAIN()}catch(e){n.MODULE_OUTPUT.print(`ERROR: ${e.code}: ${e.message}`)}}const B=function(){const n={};return{onReceive:(e,o)=>{n[e]||(n[e]=o)},send:e=>{let o=setTimeout((()=>{clearTimeout(o),n[e.to]?n[e.to](e):console.log(`Recipient not found: ${e.to}`)}),v)}}}();function h(n){return e=>{document.getElementById(`nano_module_${n}_output`).innerHTML=e}}function x(n){return e=>{document.getElementById(`nano_module_${n}_output`).prepend(e,document.createElement("br"))}}const v=0},497:(n,e,o)=>{o.d(e,{A:()=>d});var t=o(963),a=o.n(t),s=o(89),i=o.n(s)()(a());i.push([n.id,"*,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-size: 1em;\n  font-family: monospace;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: #000;\n}\n\n.nano_modules_container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.nano_modules_title {\n  font-weight: bolder;\n  padding: 8px;\n  background-color: #000;\n  color: #fff;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n}\n\n.nano_modules_modules {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 8px;\n  padding: 8px;\n  background: #eee;\n  flex: 1;\n  grid-auto-rows: max-content;\n}\n\n.nano_modules_module {\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.25);\n  padding: 8px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  background: #fff;\n}\n\n.nano_modules_no_modules {\n  padding: 8px;\n}\n\n.nano_modules_module_error {\n  color: #f00;\n}\n\n.bold {\n  font-weight: bolder;\n}\n\n.nano_module_output {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.nano_module_output_restricted_scrollable {\n  max-height: 93px;\n  overflow: auto;\n}\n\n.pulse {\n  display: flex;\n  align-items: center;\n}\n\n.pulse_dot {\n  display: inline-block;\n  width: 16px;\n  height: 8px;\n  border-radius: 8px;\n  background: silver;\n  animation: pulse ease-in-out 1s infinite;\n}\n\n.pulse_dot:nth-child(even) {\n  animation-direction: reverse;\n}\n\n.hidden {\n  display: none;\n}\n\n.expander {\n  display: inline-block;\n  width: 100%;\n}\n\n.nano_modules_footer {\n  background: #000;\n  color: #fff;\n  padding: 8px;\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.nano_modules_footer_row {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.nano_modules_footer_badge {\n  margin-left: 8px;\n  max-height: 16px;\n}\n\n.github-badge {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  overflow: hidden;\n  border: 1px solid #333;\n  text-decoration: none;\n  color: #fff;\n}\n\n.github-badge-label {\n  padding: 4px 8px;\n  background-color: #222;\n}\n\n.github-badge-stage {\n  padding: 4px 8px;\n  background-color: #333;\n}\n\n.github-badge-status {\n  padding: 4px 8px;\n  background-color: green;\n}\n\n@keyframes pulse {\n  0% {\n    background: silver;\n  }\n  25% {\n    background: goldenrod;\n  }\n  50% {\n    background-color: silver;\n  }\n  75% {\n    background-color: greenyellow;\n  }\n  100% {\n    background: silver;\n  }\n}\n","",{version:3,sources:["webpack://./src/nano-modules.css"],names:[],mappings:"AAAA;;EAEE,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,cAAc;EACd,sBAAsB;EACtB,aAAa;EACb,sBAAsB;EACtB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,gBAAgB;AAClB;;AAEA;EACE,OAAO;EACP,aAAa;EACb,sBAAsB;EACtB,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,mBAAmB;EACnB,YAAY;EACZ,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,MAAM;EACN,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,4DAA4D;EAC5D,aAAa;EACb,YAAY;EACZ,gBAAgB;EAChB,OAAO;EACP,2BAA2B;AAC7B;;AAEA;EACE,2CAA2C;EAC3C,YAAY;EACZ,oCAAoC;EACpC,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,WAAW;EACX,kBAAkB;EAClB,kBAAkB;EAClB,wCAAwC;AAC1C;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,qBAAqB;EACrB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,WAAW;EACX,YAAY;EACZ,aAAa;EACb,QAAQ;EACR,eAAe;EACf,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,gBAAgB;EAChB,sBAAsB;EACtB,qBAAqB;EACrB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE;IACE,kBAAkB;EACpB;EACA;IACE,qBAAqB;EACvB;EACA;IACE,wBAAwB;EAC1B;EACA;IACE,6BAA6B;EAC/B;EACA;IACE,kBAAkB;EACpB;AACF",sourcesContent:["*,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-size: 1em;\n  font-family: monospace;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: #000;\n}\n\n.nano_modules_container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.nano_modules_title {\n  font-weight: bolder;\n  padding: 8px;\n  background-color: #000;\n  color: #fff;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n}\n\n.nano_modules_modules {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 8px;\n  padding: 8px;\n  background: #eee;\n  flex: 1;\n  grid-auto-rows: max-content;\n}\n\n.nano_modules_module {\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.25);\n  padding: 8px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  background: #fff;\n}\n\n.nano_modules_no_modules {\n  padding: 8px;\n}\n\n.nano_modules_module_error {\n  color: #f00;\n}\n\n.bold {\n  font-weight: bolder;\n}\n\n.nano_module_output {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.nano_module_output_restricted_scrollable {\n  max-height: 93px;\n  overflow: auto;\n}\n\n.pulse {\n  display: flex;\n  align-items: center;\n}\n\n.pulse_dot {\n  display: inline-block;\n  width: 16px;\n  height: 8px;\n  border-radius: 8px;\n  background: silver;\n  animation: pulse ease-in-out 1s infinite;\n}\n\n.pulse_dot:nth-child(even) {\n  animation-direction: reverse;\n}\n\n.hidden {\n  display: none;\n}\n\n.expander {\n  display: inline-block;\n  width: 100%;\n}\n\n.nano_modules_footer {\n  background: #000;\n  color: #fff;\n  padding: 8px;\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.nano_modules_footer_row {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.nano_modules_footer_badge {\n  margin-left: 8px;\n  max-height: 16px;\n}\n\n.github-badge {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  overflow: hidden;\n  border: 1px solid #333;\n  text-decoration: none;\n  color: #fff;\n}\n\n.github-badge-label {\n  padding: 4px 8px;\n  background-color: #222;\n}\n\n.github-badge-stage {\n  padding: 4px 8px;\n  background-color: #333;\n}\n\n.github-badge-status {\n  padding: 4px 8px;\n  background-color: green;\n}\n\n@keyframes pulse {\n  0% {\n    background: silver;\n  }\n  25% {\n    background: goldenrod;\n  }\n  50% {\n    background-color: silver;\n  }\n  75% {\n    background-color: greenyellow;\n  }\n  100% {\n    background: silver;\n  }\n}\n"],sourceRoot:""}]);const d=i},72:n=>{var e=[];function o(n){for(var o=-1,t=0;t<e.length;t++)if(e[t].identifier===n){o=t;break}return o}function t(n,t){for(var s={},i=[],d=0;d<n.length;d++){var r=n[d],A=t.base?r[0]+t.base:r[0],l=s[A]||0,c="".concat(A," ").concat(l);s[A]=l+1;var u=o(c),p={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var m=a(p,t);t.byIndex=d,e.splice(d,0,{identifier:c,updater:m,references:1})}i.push(c)}return i}function a(n,e){var o=e.domAPI(e);return o.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;o.update(n=e)}else o.remove()}}n.exports=function(n,a){var s=t(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<s.length;i++){var d=o(s[i]);e[d].references--}for(var r=t(n,a),A=0;A<s.length;A++){var l=o(s[A]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=r}}},659:n=>{var e={};n.exports=function(n,o){var t=function(n){if(void 0===e[n]){var o=document.querySelector(n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(n){o=null}e[n]=o}return e[n]}(n);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(o)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,o)=>{n.exports=function(n){var e=o.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(o){!function(n,e,o){var t="";o.supports&&(t+="@supports (".concat(o.supports,") {")),o.media&&(t+="@media ".concat(o.media," {"));var a=void 0!==o.layer;a&&(t+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),t+=o.css,a&&(t+="}"),o.media&&(t+="}"),o.supports&&(t+="}");var s=o.sourceMap;s&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(t,n,e.options)}(e,n,o)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},n=>{n(n.s=437)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU8sT0FFckMsSUFBSU4sT0FBaUMsSUFBZDhILEVBQUlySCxNQUN2QlQsSUFDRitILEdBQU8sU0FBUzlILE9BQU82SCxFQUFJckgsTUFBTVAsT0FBUyxFQUFJLElBQUlELE9BQU82SCxFQUFJckgsT0FBUyxHQUFJLE9BRTVFc0gsR0FBT0QsRUFBSUMsSUFDUC9ILElBQ0YrSCxHQUFPLEtBRUxELEVBQUl4SCxRQUNOeUgsR0FBTyxLQUVMRCxFQUFJdEgsV0FDTnVILEdBQU8sS0FFVCxJQUFJQyxFQUFZRixFQUFJRSxVQUNoQkEsR0FBNkIsb0JBQVQvRyxPQUN0QjhHLEdBQU8sdURBQXVEOUgsT0FBT2dCLEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVTBHLE1BQWUsUUFLdEl2RyxFQUFRQyxrQkFBa0JxRyxFQUFLNkIsRUFBY25JLEVBQVFBLFFBQ3ZELENBb0JNc0ksQ0FBTUgsRUFBY25JLEVBQVNxRyxFQUMvQixFQUNBMUIsT0FBUSxZQXJCWixTQUE0QndELEdBRTFCLEdBQWdDLE9BQTVCQSxFQUFhSSxXQUNmLE9BQU8sRUFFVEosRUFBYUksV0FBV0MsWUFBWUwsRUFDdEMsQ0FnQk1NLENBQW1CTixFQUNyQixFQUVKLEMsVUM5Q0FySyxFQUFPQyxRQVZQLFNBQTJCdUksRUFBSzZCLEdBQzlCLEdBQUlBLEVBQWFPLFdBQ2ZQLEVBQWFPLFdBQVdDLFFBQVVyQyxNQUM3QixDQUNMLEtBQU82QixFQUFhUyxZQUNsQlQsRUFBYUssWUFBWUwsRUFBYVMsWUFFeENULEVBQWF6SCxZQUFZRixTQUFTcUksZUFBZXZDLEdBQ25ELENBQ0YsQyIsInNvdXJjZXMiOlsid2VicGFjazovL25hbm8tbW9kdWxlcy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vbmFuby1tb2R1bGVzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vbmFuby1tb2R1bGVzLy4vc3JjL25hbm8tbW9kdWxlcy5jc3M/MzAxZCIsIndlYnBhY2s6Ly9uYW5vLW1vZHVsZXMvLi9zcmMvYXBwL05hbm9Nb2R1bGVzLmpzIiwid2VicGFjazovL25hbm8tbW9kdWxlcy8uL3NyYy9uYW5vLW1vZHVsZXMuanMiLCJ3ZWJwYWNrOi8vbmFuby1tb2R1bGVzLy4vc3JjL25hbm8tbW9kdWxlcy5jc3MiLCJ3ZWJwYWNrOi8vbmFuby1tb2R1bGVzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL25hbm8tbW9kdWxlcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vbmFuby1tb2R1bGVzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL25hbm8tbW9kdWxlcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9uYW5vLW1vZHVsZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9uYW5vLW1vZHVsZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25hbm8tbW9kdWxlcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9uYW5vLW1vZHVsZXMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKCkge1xuICBjb25zb2xlLmxvZyhcIj4gTmFub21vZC5qcyBfXCIpO1xuICBjb25zdCBOQU5PTU9EVUxFUyA9IFtdO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgTU9EVUxFX0lOREVYID0gYXdhaXQgZ2V0TW9kdWxlSW5kZXgoKTtcbiAgICBpZiAoTU9EVUxFX0lOREVYKSB7XG4gICAgICBjb25zdCBNT0RVTEVTID0gTU9EVUxFX0lOREVYLmRlZmF1bHQ7XG4gICAgICBjb25zdCBoYXNNb2R1bGVzID0gQXJyYXkuaXNBcnJheShNT0RVTEVTKSA/IE1PRFVMRVMubGVuZ3RoID4gMCA6IGZhbHNlO1xuICAgICAgaWYgKGhhc01vZHVsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBNT0RVTEUgb2YgTU9EVUxFUykge1xuICAgICAgICAgIE5BTk9NT0RVTEVTLnB1c2goTU9EVUxFKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnN0IHsgY29kZSwgbWVzc2FnZSB9ID0gZTtcbiAgICBjb25zb2xlLmxvZyhgJHtjb2RlfTogJHttZXNzYWdlfWApO1xuICB9XG5cbiAgcmV0dXJuIE5BTk9NT0RVTEVTO1xufVxuXG5jb25zdCBOQU5PTU9EVUxFU19VUkxfREVWID0gXCIuLi9uYW5vX21vZHVsZXMvaW5kZXguanNcIjtcbmNvbnN0IE5BTk9NT0RVTEVTX1VSTF9QUk9EID0gXCJodHRwczovL005Si5naXRodWIuaW8vbmFub19tb2R1bGVzL2luZGV4LmpzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldE1vZHVsZUluZGV4KCkge1xuICB0cnkge1xuICAgIGxldCBOYW5vTW9kdWxlc0luZGV4ID0gW107XG4gICAgY29uc3QgSVNfUFJPRFVDVElPTiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcbiAgICBpZiAoSVNfUFJPRFVDVElPTikge1xuICAgICAgTmFub01vZHVsZXNJbmRleCA9IGF3YWl0IGltcG9ydChcbiAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICBOQU5PTU9EVUxFU19VUkxfUFJPRFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTmFub01vZHVsZXNJbmRleCA9IGF3YWl0IGltcG9ydChcbiAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICBOQU5PTU9EVUxFU19VUkxfREVWXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gTmFub01vZHVsZXNJbmRleDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuL25hbm8tbW9kdWxlcy5jc3NcIjtcbmltcG9ydCBOYW5vTW9kdWxlcyBmcm9tIFwiLi9hcHAvTmFub01vZHVsZXNcIjtcblxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb21wb25lbnQoKSk7XG5sb2FkTmFub01vZHVsZXMoKTtcblxuY29uc3QgbmFub01ldGFNb2R1bGVzID0gW107XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWROYW5vTW9kdWxlcygpIHtcbiAgY29uc3QgbmFub01vZHVsZXMgPSBhd2FpdCBOYW5vTW9kdWxlcygpO1xuICBpZiAobmFub01vZHVsZXMpIHtcbiAgICBjb25zdCBuYW5vTW9kdWxlc01vZHVsZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJuYW5vX21vZHVsZXNfbW9kdWxlc1wiXG4gICAgKTtcbiAgICBpZiAobmFub01vZHVsZXMubGVuZ3RoID4gMCkgbmFub01vZHVsZXNNb2R1bGVDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBlbHNlXG4gICAgICBuYW5vTW9kdWxlc01vZHVsZUNvbnRhaW5lci5pbm5lckhUTUwgPVxuICAgICAgICBcIjxkaXYgY2xhc3M9J25hbm9fbW9kdWxlc19ub19tb2R1bGVzJz5ObyBNb2R1bGVzIGZvdW5kPC9kaXY+XCI7XG4gICAgZm9yIChjb25zdCBbbW9kaWQsIG1vZHVsZV0gb2YgbmFub01vZHVsZXMuZW50cmllcygpKSB7XG4gICAgICBpZiAobW9kdWxlKSBhd2FpdCBzZXR1cE1ldGFNb2R1bGUobW9kdWxlLCBtb2RpZCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbW9kdWxlIG9mIG5hbm9NZXRhTW9kdWxlcykge1xuICAgICAgaWYgKG1vZHVsZSkgYXdhaXQgZXhlY01vZHVsZShtb2R1bGUpO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzZXR1cE1ldGFNb2R1bGUobW9kdWxlLCBtb2RpZCkge1xuICBsZXQgbW9kdWxlTmFtZSA9IGdldFRlbXBQbGFjZWhvbGRlck1vZHVsZU5hbWUobW9kdWxlKTtcbiAgbGV0IG1vZHVsZURlc2NyaXB0aW9uID0gXCIuLi5cIjtcbiAgbGV0IG1vZHVsZVB1bHNlID0gZmFsc2U7XG4gIGxldCBtb2R1bGVWZXJzaW9uID0gXCIuLi5cIjtcbiAgbGV0IG1vZHVsZU91dHB1dCA9IFwiXCI7XG4gIGNvbnN0IHRlbXBsYXRlTG9hZGluZyA9IGJ1aWxkVGVtcGxhdGUoXG4gICAgbW9kdWxlTmFtZSxcbiAgICBtb2R1bGVEZXNjcmlwdGlvbixcbiAgICBtb2R1bGVWZXJzaW9uLFxuICAgIG1vZHVsZU91dHB1dCxcbiAgICBtb2RpZFxuICApO1xuICBjb25zdCBuYW5vTW9kdWxlc01vZHVsZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgIFwibmFub19tb2R1bGVzX21vZHVsZXNcIlxuICApO1xuICBuYW5vTW9kdWxlc01vZHVsZUNvbnRhaW5lci5pbm5lckhUTUwgKz0gdGVtcGxhdGVMb2FkaW5nO1xuICBjb25zdCBtb2R1bGVDbGFzcyA9IGF3YWl0IG1vZHVsZSgpO1xuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBtb2R1bGVDbGFzcy5kZWZhdWx0KCk7XG4gIG1vZHVsZU5hbWUgPSBpbnN0YW5jZS5NT0RVTEVfTkFNRSA/IGluc3RhbmNlLk1PRFVMRV9OQU1FIDogXCItXCI7XG4gIG1vZHVsZURlc2NyaXB0aW9uID0gaW5zdGFuY2UuTU9EVUxFX0RFU0NSSVBUSU9OXG4gICAgPyBpbnN0YW5jZS5NT0RVTEVfREVTQ1JJUFRJT05cbiAgICA6IFwiLVwiO1xuICBtb2R1bGVQdWxzZSA9IGluc3RhbmNlLk1PRFVMRV9QVUxTRSB8fCBmYWxzZTtcbiAgbW9kdWxlVmVyc2lvbiA9IGluc3RhbmNlLk1PRFVMRV9WRVJTSU9OID8gaW5zdGFuY2UuTU9EVUxFX1ZFUlNJT04gOiBcIi1cIjtcbiAgY29uc3QgbW9kdWxlTWFpbElkID0gaW5zdGFuY2UuTU9EVUxFX01BSUxfSUQgfHwgbnVsbDtcbiAgY29uc3QgbW9kdWxlTWFpbEhhbmRsZXIgPSBpbnN0YW5jZS5NT0RVTEVfTUFJTF9IQU5ETEVSIHx8IG51bGw7XG4gIGluc3RhbmNlLk1PRFVMRV9PVVRQVVQgPSBjcmVhdGVPdXRwdXRNb2RpZmllcnMobW9kaWQpO1xuICBpZiAobW9kdWxlTWFpbElkICYmIG1vZHVsZU1haWxIYW5kbGVyKSB7XG4gICAgbWFpbC5vblJlY2VpdmUobW9kdWxlTWFpbElkLCBtb2R1bGVNYWlsSGFuZGxlcik7XG4gICAgaW5zdGFuY2UuTU9EVUxFX01BSUwgPSB7IHNlbmQ6IG1haWwuc2VuZCB9O1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBuYW5vX21vZHVsZV8ke21vZGlkfV9uYW1lYCkuaW5uZXJIVE1MID0gbW9kdWxlTmFtZTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5hbm9fbW9kdWxlXyR7bW9kaWR9X2Rlc2NyaXB0aW9uYCkuaW5uZXJIVE1MID1cbiAgICBtb2R1bGVEZXNjcmlwdGlvbjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5hbm9fbW9kdWxlXyR7bW9kaWR9X3ZlcnNpb25gKS5pbm5lckhUTUwgPVxuICAgIG1vZHVsZVZlcnNpb247XG4gIGlmIChtb2R1bGVQdWxzZSkge1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoYG5hbm9fbW9kdWxlXyR7bW9kaWR9X3B1bHNlYClcbiAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICB9XG4gIGluc3RhbmNlLk1PRFVMRV9JRCA9IG1vZGlkO1xuICBuYW5vTWV0YU1vZHVsZXMucHVzaChpbnN0YW5jZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4ZWNNb2R1bGUobW9kdWxlKSB7XG4gIGlmIChtb2R1bGUuTU9EVUxFX01BSU4gJiYgdHlwZW9mIG1vZHVsZS5NT0RVTEVfTUFJTiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1vZHVsZS5NT0RVTEVfTUFJTigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBtb2R1bGUuTU9EVUxFX09VVFBVVC5wcmludChgRVJST1I6ICR7ZXJyb3IuY29kZX06ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGVtcFBsYWNlaG9sZGVyTW9kdWxlTmFtZShtb2R1bGVOYW1lKSB7XG4gIGlmIChtb2R1bGVOYW1lKVxuICAgIHJldHVybiBtb2R1bGVOYW1lXG4gICAgICAudG9TdHJpbmcoKVxuICAgICAgLnJlcGxhY2VBbGwoXCIoKSA9PiBpbXBvcnQoXCIsIFwiXCIpXG4gICAgICAucmVwbGFjZUFsbChcIilcIiwgXCJcIilcbiAgICAgIC5yZXBsYWNlQWxsKCdcIicsIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBjb21wb25lbnQoKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibmFub19tb2R1bGVzX2NvbnRhaW5lclwiKTtcblxuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRpdGxlLmNsYXNzTGlzdC5hZGQoXCJuYW5vX21vZHVsZXNfdGl0bGVcIik7XG4gIHRpdGxlLmlubmVySFRNTCA9IFwiTmFub01vZHVsZXNcIjtcblxuICBjb25zdCBtb2R1bGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbW9kdWxlcy5jbGFzc0xpc3QuYWRkKFwibmFub19tb2R1bGVzX21vZHVsZXNcIik7XG4gIG1vZHVsZXMuaWQgPSBcIm5hbm9fbW9kdWxlc19tb2R1bGVzXCI7XG5cbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1vZHVsZXMpO1xuXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVGb290ZXIoKSk7XG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkVGVtcGxhdGUobmFtZSwgZGVzY3JpcHRpb24sIHZlcnNpb24sIG91dHB1dCwgbW9kaWQpIHtcbiAgcmV0dXJuIGBcbjxkaXYgY2xhc3M9XCJuYW5vX21vZHVsZXNfbW9kdWxlXCIgaWQ9XCJuYW5vX21vZHVsZV8ke21vZGlkfVwiPlxuPGRpdiBjbGFzcz1cIm5hbm9fbW9kdWxlX25hbWVcIj5cbjxzcGFuIGNsYXNzPVwiYm9sZFwiPk5hbWU6PC9zcGFuPlxuPHNwYW4gaWQ9XCJuYW5vX21vZHVsZV8ke21vZGlkfV9uYW1lXCI+JHtuYW1lfTwvc3Bhbj5cbjwvZGl2PlxuPGRpdiBjbGFzcz1cIm5hbm9fbW9kdWxlX2Rlc2NyaXB0aW9uXCI+XG48c3BhbiBjbGFzcz1cImJvbGRcIj5EZXNjcmlwdGlvbjo8L3NwYW4+XG48c3BhbiBpZD1cIm5hbm9fbW9kdWxlXyR7bW9kaWR9X2Rlc2NyaXB0aW9uXCI+JHtkZXNjcmlwdGlvbn08L3NwYW4+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJuYW5vX21vZHVsZV9vdXRwdXRcIj5cbjxzcGFuIGNsYXNzPVwiYm9sZFwiPk91dHB1dDo8L3NwYW4+XG48c3BhbiBpZD1cIm5hbm9fbW9kdWxlXyR7bW9kaWR9X3B1bHNlXCIgY2xhc3M9XCJwdWxzZSBoaWRkZW5cIj5cbiZuYnNwOzxzcGFuIGNsYXNzPVwicHVsc2VfZG90XCI+PC9zcGFuPiBcbiZuYnNwOzxzcGFuIGNsYXNzPVwicHVsc2VfZG90XCI+PC9zcGFuPlxuJm5ic3A7PHNwYW4gY2xhc3M9XCJwdWxzZV9kb3RcIj48L3NwYW4+XG48L3NwYW4+XG48c3BhbiBjbGFzcz1cImV4cGFuZGVyXCI+Jm5ic3A7PC9zcGFuPlxuPHNwYW4gY2xhc3M9XCJib2xkXCI+VmVyc2lvbjo8L3NwYW4+XG48c3BhbiBpZD1cIm5hbm9fbW9kdWxlXyR7bW9kaWR9X3ZlcnNpb25cIj4ke3ZlcnNpb259IDwvc3Bhbj5cbjwvZGl2PlxuPGRpdlxuY2xhc3M9XCJuYW5vX21vZHVsZV9vdXRwdXRfcmVzdHJpY3RlZF9zY3JvbGxhYmxlXCJcbmlkPVwibmFub19tb2R1bGVfJHttb2RpZH1fb3V0cHV0XCJcbj5cbiR7b3V0cHV0fVxuPC9kaXY+XG48L2Rpdj5cbmA7XG59XG5cbmNvbnN0IG1haWwgPSBjcmVhdGVNYWlsKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZU91dHB1dE1vZGlmaWVycyhtb2RpZCkge1xuICByZXR1cm4ge1xuICAgIHByaW50OiBwcmludChtb2RpZCksXG4gICAgcHJpbnRMaW5lOiBwcmludExpbmUobW9kaWQpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBwcmludChtb2RpZCkge1xuICByZXR1cm4gKG5ld091dHB1dCkgPT4ge1xuICAgIGNvbnN0IG91dHB1dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgYG5hbm9fbW9kdWxlXyR7bW9kaWR9X291dHB1dGBcbiAgICApO1xuICAgIG91dHB1dENvbnRhaW5lci5pbm5lckhUTUwgPSBuZXdPdXRwdXQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByaW50TGluZShtb2RpZCkge1xuICByZXR1cm4gKG5ld091dHB1dCkgPT4ge1xuICAgIGNvbnN0IG91dHB1dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgYG5hbm9fbW9kdWxlXyR7bW9kaWR9X291dHB1dGBcbiAgICApO1xuICAgIG91dHB1dENvbnRhaW5lci5wcmVwZW5kKG5ld091dHB1dCwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgfTtcbn1cblxuY29uc3QgTUFJTF9TRU5EX0RFTEFZID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlTWFpbCgpIHtcbiAgY29uc3QgcmVjaXBpZW50cyA9IHt9O1xuICBjb25zdCBvblJlY2VpdmUgPSAobWFpbElkLCBtYWlsSGFuZGxlcikgPT4ge1xuICAgIGlmICghcmVjaXBpZW50c1ttYWlsSWRdKSByZWNpcGllbnRzW21haWxJZF0gPSBtYWlsSGFuZGxlcjtcbiAgfTtcbiAgY29uc3Qgc2VuZCA9IChtYWlsKSA9PiB7XG4gICAgbGV0IHRtciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRtcik7XG4gICAgICBpZiAoIXJlY2lwaWVudHNbbWFpbC50b10pIGNvbnNvbGUubG9nKGBSZWNpcGllbnQgbm90IGZvdW5kOiAke21haWwudG99YCk7XG4gICAgICBlbHNlIHJlY2lwaWVudHNbbWFpbC50b10obWFpbCk7XG4gICAgfSwgTUFJTF9TRU5EX0RFTEFZKTtcbiAgfTtcbiAgcmV0dXJuIHsgb25SZWNlaXZlLCBzZW5kIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZvb3RlcigpIHtcbiAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJuYW5vX21vZHVsZXNfZm9vdGVyXCIpO1xuXG4gIGZvb3Rlci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm5hbm9fbW9kdWxlc19mb290ZXJfcm93XCI+XG4gICAgICA8YSBjbGFzcz1cImdpdGh1Yi1iYWRnZVwiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vbTlqL25hbm8tbW9kdWxlcy9hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJnaXRodWItYmFkZ2UtbGFiZWxcIj5uYW5vLW1vZHVsZXM8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdpdGh1Yi1iYWRnZS1zdGFnZVwiPkFDVElPTlM8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdpdGh1Yi1iYWRnZS1zdGF0dXNcIj5QQVNTRUQ8L2Rpdj5cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibmFub19tb2R1bGVzX2Zvb3Rlcl9yb3dcIj5cbiAgICAgIDxhIGNsYXNzPVwiZ2l0aHViLWJhZGdlXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9tOWovbmFub19tb2R1bGVzL2FjdGlvbnNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdpdGh1Yi1iYWRnZS1sYWJlbFwiPm5hbm9fbW9kdWxlczwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ2l0aHViLWJhZGdlLXN0YWdlXCI+QUNUSU9OUzwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ2l0aHViLWJhZGdlLXN0YXR1c1wiPlBBU1NFRDwvZGl2PlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIHJldHVybiBmb290ZXI7XG59XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgKixcbmJvZHkge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbmJvZHkge1xuICBmb250LXNpemU6IDFlbTtcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIGJhY2tncm91bmQ6ICMwMDA7XG59XG5cbi5uYW5vX21vZHVsZXNfY29udGFpbmVyIHtcbiAgZmxleDogMTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgcGFkZGluZzogMDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLm5hbm9fbW9kdWxlc190aXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gIHBhZGRpbmc6IDhweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbiAgY29sb3I6ICNmZmY7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgei1pbmRleDogMTtcbn1cblxuLm5hbm9fbW9kdWxlc19tb2R1bGVzIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzIwcHgsIDFmcikpO1xuICBncmlkLWdhcDogOHB4O1xuICBwYWRkaW5nOiA4cHg7XG4gIGJhY2tncm91bmQ6ICNlZWU7XG4gIGZsZXg6IDE7XG4gIGdyaWQtYXV0by1yb3dzOiBtYXgtY29udGVudDtcbn1cblxuLm5hbm9fbW9kdWxlc19tb2R1bGUge1xuICBib3gtc2hhZG93OiAwcHggNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xuICBwYWRkaW5nOiA4cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbn1cblxuLm5hbm9fbW9kdWxlc19ub19tb2R1bGVzIHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4ubmFub19tb2R1bGVzX21vZHVsZV9lcnJvciB7XG4gIGNvbG9yOiAjZjAwO1xufVxuXG4uYm9sZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG59XG5cbi5uYW5vX21vZHVsZV9vdXRwdXQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4ubmFub19tb2R1bGVfb3V0cHV0X3Jlc3RyaWN0ZWRfc2Nyb2xsYWJsZSB7XG4gIG1heC1oZWlnaHQ6IDkzcHg7XG4gIG92ZXJmbG93OiBhdXRvO1xufVxuXG4ucHVsc2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4ucHVsc2VfZG90IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMTZweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYmFja2dyb3VuZDogc2lsdmVyO1xuICBhbmltYXRpb246IHB1bHNlIGVhc2UtaW4tb3V0IDFzIGluZmluaXRlO1xufVxuXG4ucHVsc2VfZG90Om50aC1jaGlsZChldmVuKSB7XG4gIGFuaW1hdGlvbi1kaXJlY3Rpb246IHJldmVyc2U7XG59XG5cbi5oaWRkZW4ge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uZXhwYW5kZXIge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ubmFub19tb2R1bGVzX2Zvb3RlciB7XG4gIGJhY2tncm91bmQ6ICMwMDA7XG4gIGNvbG9yOiAjZmZmO1xuICBwYWRkaW5nOiA4cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogOHB4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4ubmFub19tb2R1bGVzX2Zvb3Rlcl9yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG59XG5cbi5uYW5vX21vZHVsZXNfZm9vdGVyX2JhZGdlIHtcbiAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgbWF4LWhlaWdodDogMTZweDtcbn1cblxuLmdpdGh1Yi1iYWRnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgY29sb3I6ICNmZmY7XG59XG5cbi5naXRodWItYmFkZ2UtbGFiZWwge1xuICBwYWRkaW5nOiA0cHggOHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyO1xufVxuXG4uZ2l0aHViLWJhZGdlLXN0YWdlIHtcbiAgcGFkZGluZzogNHB4IDhweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcbn1cblxuLmdpdGh1Yi1iYWRnZS1zdGF0dXMge1xuICBwYWRkaW5nOiA0cHggOHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbn1cblxuQGtleWZyYW1lcyBwdWxzZSB7XG4gIDAlIHtcbiAgICBiYWNrZ3JvdW5kOiBzaWx2ZXI7XG4gIH1cbiAgMjUlIHtcbiAgICBiYWNrZ3JvdW5kOiBnb2xkZW5yb2Q7XG4gIH1cbiAgNTAlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBzaWx2ZXI7XG4gIH1cbiAgNzUlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbnllbGxvdztcbiAgfVxuICAxMDAlIHtcbiAgICBiYWNrZ3JvdW5kOiBzaWx2ZXI7XG4gIH1cbn1cbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL25hbm8tbW9kdWxlcy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7O0VBRUUsU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sUUFBUTtFQUNSLFNBQVM7RUFDVCxPQUFPO0VBQ1AsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsT0FBTztFQUNQLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsVUFBVTtFQUNWLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsTUFBTTtFQUNOLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw0REFBNEQ7RUFDNUQsYUFBYTtFQUNiLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsT0FBTztFQUNQLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLDJDQUEyQztFQUMzQyxZQUFZO0VBQ1osb0NBQW9DO0VBQ3BDLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLFdBQVc7RUFDWCxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQix3Q0FBd0M7QUFDMUM7O0FBRUE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxZQUFZO0VBQ1osYUFBYTtFQUNiLFFBQVE7RUFDUixlQUFlO0VBQ2YsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIscUJBQXFCO0VBQ3JCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFO0lBQ0Usa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxxQkFBcUI7RUFDdkI7RUFDQTtJQUNFLHdCQUF3QjtFQUMxQjtFQUNBO0lBQ0UsNkJBQTZCO0VBQy9CO0VBQ0E7SUFDRSxrQkFBa0I7RUFDcEI7QUFDRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqLFxcbmJvZHkge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxuYm9keSB7XFxuICBmb250LXNpemU6IDFlbTtcXG4gIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgYmFja2dyb3VuZDogIzAwMDtcXG59XFxuXFxuLm5hbm9fbW9kdWxlc19jb250YWluZXIge1xcbiAgZmxleDogMTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgcGFkZGluZzogMDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi5uYW5vX21vZHVsZXNfdGl0bGUge1xcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcXG4gIHBhZGRpbmc6IDhweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHBvc2l0aW9uOiBzdGlja3k7XFxuICB0b3A6IDA7XFxuICB6LWluZGV4OiAxO1xcbn1cXG5cXG4ubmFub19tb2R1bGVzX21vZHVsZXMge1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMyMHB4LCAxZnIpKTtcXG4gIGdyaWQtZ2FwOiA4cHg7XFxuICBwYWRkaW5nOiA4cHg7XFxuICBiYWNrZ3JvdW5kOiAjZWVlO1xcbiAgZmxleDogMTtcXG4gIGdyaWQtYXV0by1yb3dzOiBtYXgtY29udGVudDtcXG59XFxuXFxuLm5hbm9fbW9kdWxlc19tb2R1bGUge1xcbiAgYm94LXNoYWRvdzogMHB4IDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gIHBhZGRpbmc6IDhweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxufVxcblxcbi5uYW5vX21vZHVsZXNfbm9fbW9kdWxlcyB7XFxuICBwYWRkaW5nOiA4cHg7XFxufVxcblxcbi5uYW5vX21vZHVsZXNfbW9kdWxlX2Vycm9yIHtcXG4gIGNvbG9yOiAjZjAwO1xcbn1cXG5cXG4uYm9sZCB7XFxuICBmb250LXdlaWdodDogYm9sZGVyO1xcbn1cXG5cXG4ubmFub19tb2R1bGVfb3V0cHV0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLm5hbm9fbW9kdWxlX291dHB1dF9yZXN0cmljdGVkX3Njcm9sbGFibGUge1xcbiAgbWF4LWhlaWdodDogOTNweDtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbn1cXG5cXG4ucHVsc2Uge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5wdWxzZV9kb3Qge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDE2cHg7XFxuICBoZWlnaHQ6IDhweDtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG4gIGJhY2tncm91bmQ6IHNpbHZlcjtcXG4gIGFuaW1hdGlvbjogcHVsc2UgZWFzZS1pbi1vdXQgMXMgaW5maW5pdGU7XFxufVxcblxcbi5wdWxzZV9kb3Q6bnRoLWNoaWxkKGV2ZW4pIHtcXG4gIGFuaW1hdGlvbi1kaXJlY3Rpb246IHJldmVyc2U7XFxufVxcblxcbi5oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmV4cGFuZGVyIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4ubmFub19tb2R1bGVzX2Zvb3RlciB7XFxuICBiYWNrZ3JvdW5kOiAjMDAwO1xcbiAgY29sb3I6ICNmZmY7XFxuICBwYWRkaW5nOiA4cHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiA4cHg7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLm5hbm9fbW9kdWxlc19mb290ZXJfcm93IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbn1cXG5cXG4ubmFub19tb2R1bGVzX2Zvb3Rlcl9iYWRnZSB7XFxuICBtYXJnaW4tbGVmdDogOHB4O1xcbiAgbWF4LWhlaWdodDogMTZweDtcXG59XFxuXFxuLmdpdGh1Yi1iYWRnZSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYm9yZGVyLXJhZGl1czogMHB4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuXFxuLmdpdGh1Yi1iYWRnZS1sYWJlbCB7XFxuICBwYWRkaW5nOiA0cHggOHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjtcXG59XFxuXFxuLmdpdGh1Yi1iYWRnZS1zdGFnZSB7XFxuICBwYWRkaW5nOiA0cHggOHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuXFxuLmdpdGh1Yi1iYWRnZS1zdGF0dXMge1xcbiAgcGFkZGluZzogNHB4IDhweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHB1bHNlIHtcXG4gIDAlIHtcXG4gICAgYmFja2dyb3VuZDogc2lsdmVyO1xcbiAgfVxcbiAgMjUlIHtcXG4gICAgYmFja2dyb3VuZDogZ29sZGVucm9kO1xcbiAgfVxcbiAgNTAlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogc2lsdmVyO1xcbiAgfVxcbiAgNzUlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW55ZWxsb3c7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgYmFja2dyb3VuZDogc2lsdmVyO1xcbiAgfVxcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsImlkIiwiX2siLCJwdXNoIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsIm9wdGlvbnMiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsInNldEF0dHJpYnV0ZXMiLCJpbnNlcnQiLCJkb21BUEkiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJsb2NhbHMiLCJOQU5PTU9EVUxFU19VUkxfUFJPRCIsImRvY3VtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiY29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInRpdGxlIiwiaW5uZXJIVE1MIiwiZm9vdGVyIiwiY3JlYXRlRm9vdGVyIiwiY29tcG9uZW50IiwiYXN5bmMiLCJuYW5vTW9kdWxlcyIsImNvbnNvbGUiLCJsb2ciLCJOQU5PTU9EVUxFUyIsIk1PRFVMRV9JTkRFWCIsIk5hbm9Nb2R1bGVzSW5kZXgiLCJpbXBvcnQiLCJlIiwiZ2V0TW9kdWxlSW5kZXgiLCJNT0RVTEVTIiwiZGVmYXVsdCIsIkFycmF5IiwiaXNBcnJheSIsIk1PRFVMRSIsImNvZGUiLCJtZXNzYWdlIiwiTmFub01vZHVsZXMiLCJuYW5vTW9kdWxlc01vZHVsZUNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwibW9kaWQiLCJlbnRyaWVzIiwic2V0dXBNZXRhTW9kdWxlIiwibmFub01ldGFNb2R1bGVzIiwiZXhlY01vZHVsZSIsImxvYWROYW5vTW9kdWxlcyIsIm1vZHVsZU5hbWUiLCJyZXBsYWNlQWxsIiwiZ2V0VGVtcFBsYWNlaG9sZGVyTW9kdWxlTmFtZSIsIm1vZHVsZURlc2NyaXB0aW9uIiwibW9kdWxlUHVsc2UiLCJtb2R1bGVWZXJzaW9uIiwidGVtcGxhdGVMb2FkaW5nIiwibmFtZSIsImRlc2NyaXB0aW9uIiwidmVyc2lvbiIsIm91dHB1dCIsImJ1aWxkVGVtcGxhdGUiLCJpbnN0YW5jZSIsIk1PRFVMRV9OQU1FIiwiTU9EVUxFX0RFU0NSSVBUSU9OIiwiTU9EVUxFX1BVTFNFIiwiTU9EVUxFX1ZFUlNJT04iLCJtb2R1bGVNYWlsSWQiLCJNT0RVTEVfTUFJTF9JRCIsIm1vZHVsZU1haWxIYW5kbGVyIiwiTU9EVUxFX01BSUxfSEFORExFUiIsIk1PRFVMRV9PVVRQVVQiLCJwcmludCIsInByaW50TGluZSIsImNyZWF0ZU91dHB1dE1vZGlmaWVycyIsIm1haWwiLCJvblJlY2VpdmUiLCJNT0RVTEVfTUFJTCIsInNlbmQiLCJyZW1vdmUiLCJNT0RVTEVfSUQiLCJNT0RVTEVfTUFJTiIsImVycm9yIiwicmVjaXBpZW50cyIsIm1haWxJZCIsIm1haWxIYW5kbGVyIiwidG1yIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInRvIiwiTUFJTF9TRU5EX0RFTEFZIiwiY3JlYXRlTWFpbCIsIm5ld091dHB1dCIsInByZXBlbmQiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImdldFRhcmdldCIsIkVycm9yIiwiZWxlbWVudCIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiXSwic291cmNlUm9vdCI6IiJ9